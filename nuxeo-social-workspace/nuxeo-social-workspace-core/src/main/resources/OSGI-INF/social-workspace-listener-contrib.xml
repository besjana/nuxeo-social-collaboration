<?xml version="1.0"?>
<component name="org.nuxeo.ecm.social.workspace.listeners.contrib">

  <extension target="org.nuxeo.ecm.core.event.EventServiceComponent"
    point="listener">
    <listener name="createSocialWorkspaceGroupListener" async="false"
      postCommit="false"
      class="org.nuxeo.ecm.social.workspace.listeners.CreateSocialWorkspaceGroupListener"
      priority="100">
      <event>documentCreated</event>
    </listener>

    <listener name="removeSocialWorkspaceGroupListener" async="false"
      postCommit="false"
      class="org.nuxeo.ecm.social.workspace.listeners.RemoveSocialWorkspaceGroupListener"
      priority="100">
      <event>documentRemoved</event>
    </listener>

    <listener name="resizeArticlePictureListener" async="false"
      postCommit="false"
      class="org.nuxeo.ecm.social.workspace.listeners.ResizeArticlePictureListener"
      priority="200">
      <event>aboutToCreate</event>
      <event>beforeDocumentModification</event>
    </listener>

    <listener name="createSocialDocumentListener" async="true"
      postCommit="false"
      class="org.nuxeo.ecm.social.workspace.listeners.VisibilitySocialDocumentListener"
      priority="200">
      <event>documentCreated</event>
      <event>documentModified</event>
    </listener>

    <listener name="deleteSocialDocumentListener" async="false"
      postCommit="false"
      class="org.nuxeo.ecm.social.workspace.listeners.DeleteSocialDocumentListener"
      priority="200">
      <event>lifecycle_transition_event</event>
    </listener>

    <listener name="checkSocialWorkspaceValidationTasks" async="false"
      postCommit="false"
      class="org.nuxeo.ecm.social.workspace.listeners.CheckSocialWorkspaceValidationTasks"
      priority="100">
      <event>checkExpiredTasksSignal</event>
    </listener>

  </extension>

</component>
