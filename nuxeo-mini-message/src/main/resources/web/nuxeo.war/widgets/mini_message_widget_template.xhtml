<f:subview xmlns:c="http://java.sun.com/jstl/core"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:h="http://java.sun.com/jsf/html"
  id="#{widget.id}">

<style>
  .ownMiniMessage {
    background-color: yellow;
  }
</style>

  <c:set var="cssClass" value="miniMessage #{nxu:test(currentUser.name == field_0, 'owner', '')}" />
  <div class="#{cssClass}">
    <div>
      <span class="username"><h:outputText value="#{field_1}" escape="false"/></span>
      <span class="timestamp">#{nxu:formatDateUsingBasicFormatter(field_3)}</span>
    </div>
    <div class="message">
      #{field_2}
    </div>
  </div>

</f:subview>
