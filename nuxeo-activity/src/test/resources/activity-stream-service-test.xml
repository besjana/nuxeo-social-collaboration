<component name="org.nuxeo.ecm.activity.test">

  <extension target="org.nuxeo.ecm.core.persistence.PersistenceComponent" point="hibernate">
    <hibernateConfiguration name="nxactivities">
        <properties>
        <property name="hibernate.connection.url">jdbc:hsqldb:mem:.;sql.enforce_strict_size=true</property>;
        <property name="hibernate.connection.driver_class">org.hsqldb.jdbcDriver</property>
        <property name="hibernate.connection.auto_commit">true</property>
        <property name="hibernate.connection.pool_size">1</property>;
        <property name="hibernate.dialect">org.hibernate.dialect.HSQLDialect</property>;
        <property name="hibernate.hbm2ddl.auto">create-drop</property>;
        <property name="hibernate.show_sql">false</property>; // true to debug
        <property name="hibernate.format_sql">true</property>;
      </properties>
      <classes>
        <class>org.nuxeo.ecm.activity.TweetActivity</class>
      </classes>
    </hibernateConfiguration>
  </extension>

  <extension target="org.nuxeo.ecm.activity.ActivityStreamService"
    point="activityStreamFilters">
    <activityStreamFilter class="org.nuxeo.ecm.activity.DummyActivityStreamFilter" />
    <activityStreamFilter class="org.nuxeo.ecm.activity.TweetActivityStreamFilter" />
  </extension>

  <extension target="org.nuxeo.ecm.activity.ActivityStreamService"
    point="activityStreams">
    <activityStream name="userActivityStream">
      <verbs>
        <verb>documentCreated</verb>
        <verb>documentModified</verb>
        <verb>circle</verb>
      </verbs>
    </activityStream>
    <activityStream name="anotherStream">
      <verbs append="true">
        <verb>documentDeleted</verb>
      </verbs>
    </activityStream>
  </extension>

</component>
